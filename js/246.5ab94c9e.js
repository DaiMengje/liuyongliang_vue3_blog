"use strict";(self["webpackChunkvue_admin"]=self["webpackChunkvue_admin"]||[]).push([[246],{217:function(e,t,o){o.d(t,{Z:function(){return p}});var n=o(445),i=o(7462),a={today:"今天",now:"此刻",backToToday:"返回今天",ok:"确定",timeSelect:"选择时间",dateSelect:"选择日期",weekSelect:"选择周",clear:"清除",month:"月",year:"年",previousMonth:"上个月 (翻页上键)",nextMonth:"下个月 (翻页下键)",monthSelect:"选择月份",yearSelect:"选择年份",decadeSelect:"选择年代",yearFormat:"YYYY年",dayFormat:"D日",dateFormat:"YYYY年M月D日",dateTimeFormat:"YYYY年M月D日 HH时mm分ss秒",previousYear:"上一年 (Control键加左方向键)",nextYear:"下一年 (Control键加右方向键)",previousDecade:"上一年代",nextDecade:"下一年代",previousCentury:"上一世纪",nextCentury:"下一世纪"},s={placeholder:"请选择时间"},r=s,l={lang:(0,i.Z)({placeholder:"请选择日期",rangePlaceholder:["开始日期","结束日期"]},a),timePickerLocale:(0,i.Z)({},r)};l.lang.ok="确 定";var c=l,u=c,d={"btn:save":"保存","btn:cancel":"取消","btn:clear":"清除"},p={locale:"zh-cn",Pagination:n.Z,DatePicker:c,TimePicker:r,Calendar:u,ColorPicker:d,global:{placeholder:"请选择"},Table:{filterTitle:"筛选",filterConfirm:"确定",filterReset:"重置",selectAll:"全选当页",selectInvert:"反选当页",sortTitle:"排序",expand:"展开行",collapse:"关闭行"},Modal:{okText:"确定",cancelText:"取消",justOkText:"知道了"},Popconfirm:{cancelText:"取消",okText:"确定"},Transfer:{searchPlaceholder:"请输入搜索内容",itemUnit:"项",itemsUnit:"项"},Upload:{uploading:"文件上传中",removeFile:"删除文件",uploadError:"上传错误",previewFile:"预览文件",downloadFile:"下载文件"},Empty:{description:"暂无数据"},Icon:{icon:"图标"},Text:{edit:"编辑",copy:"复制",copied:"复制成功",expand:"展开"},PageHeader:{back:"返回"}}},7644:function(e,t,o){o.d(t,{Z:function(){return N}});var n=o(7462),i=o(3396),a=o(1413),s=o(4942),r=o(9242),l=o(7495),c=o(252),u=o(5802);function d(){var e=[].slice.call(arguments,0);return 1===e.length?e[0]:function(){for(var t=0;t<e.length;t++)e[t]&&e[t].apply&&e[t].apply(this,arguments)}}var p={mixins:[u.Z],props:{duration:l.Z.number.def(1.5),closable:l.Z.looseBool,prefixCls:l.Z.string,update:l.Z.looseBool,closeIcon:l.Z.any,onClose:l.Z.func},watch:{duration:function(){this.restartCloseTimer()}},mounted:function(){this.startCloseTimer()},updated:function(){this.update&&this.restartCloseTimer()},beforeUnmount:function(){this.clearCloseTimer(),this.willDestroy=!0},methods:{close:function(e){e&&e.stopPropagation(),this.clearCloseTimer(),this.__emit("close")},startCloseTimer:function(){var e=this;this.clearCloseTimer(),!this.willDestroy&&this.duration&&(this.closeTimer=setTimeout((function(){e.close()}),1e3*this.duration))},clearCloseTimer:function(){this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=null)},restartCloseTimer:function(){this.clearCloseTimer(),this.startCloseTimer()}},render:function(){var e,t=this.prefixCls,o=this.closable,n=this.clearCloseTimer,a=this.startCloseTimer,r=this.close,l=this.$attrs,u="".concat(t,"-notice"),d=(e={},(0,s.Z)(e,"".concat(u),1),(0,s.Z)(e,"".concat(u,"-closable"),o),e),p=(0,c.Xr)(this,"closeIcon");return(0,i.Wm)("div",{class:d,style:l.style||{right:"50%"},onMouseenter:n,onMouseleave:a},[(0,i.Wm)("div",{class:"".concat(u,"-content")},[(0,c.z9)(this)]),o?(0,i.Wm)("a",{tabindex:"0",onClick:r,class:"".concat(u,"-close")},[p||(0,i.Wm)("span",{class:"".concat(u,"-close-x")},null)]):null])}},m=o(7129),f=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};function h(){}var g=0,v=Date.now();function y(){return"rcNotification_".concat(v,"_").concat(g++)}var C=(0,i.aZ)({mixins:[u.Z],props:{prefixCls:l.Z.string.def("rc-notification"),transitionName:l.Z.string,animation:l.Z.oneOfType([l.Z.string,l.Z.object]).def("fade"),maxCount:l.Z.number,closeIcon:l.Z.any},data:function(){return{notices:[]}},methods:{getTransitionName:function(){var e=this.$props,t=e.transitionName;return!t&&e.animation&&(t="".concat(e.prefixCls,"-").concat(e.animation)),t},add:function(e){var t=e.key=e.key||y(),o=this.$props.maxCount;this.setState((function(n){var i=n.notices,a=i.map((function(e){return e.key})).indexOf(t),s=i.concat();return-1!==a?s.splice(a,1,e):(o&&i.length>=o&&(e.updateKey=s[0].updateKey||s[0].key,s.shift()),s.push(e)),{notices:s}}))},remove:function(e){this.setState((function(t){return{notices:t.notices.filter((function(t){return t.key!==e}))}}))}},render:function(){var e=this,t=this.prefixCls,o=this.notices,n=this.remove,r=this.getTransitionName,l=this.$attrs,u=(0,m.Mz)(r()),f=o.map((function(a,s){var r=Boolean(s===o.length-1&&a.updateKey),l=a.updateKey?a.updateKey:a.key,u=a.content,m=a.duration,f=a.closable,g=a.onClose,v=a.style,y=a.class,C=d(n.bind(e,a.key),g),w={prefixCls:t,duration:m,closable:f,update:r,closeIcon:(0,c.Xr)(e,"closeIcon"),onClose:C,onClick:a.onClick||h,style:v,class:y,key:l};return(0,i.Wm)(p,w,{default:function(){return["function"===typeof u?u():u]}})})),g=(0,s.Z)({},t,1);return(0,i.Wm)("div",{class:g,style:l.style||{top:"65px",left:"50%"}},[(0,i.Wm)(m.W3,(0,a.Z)({tag:"span"},u),{default:function(){return[f]}})])}});C.newInstance=function(e,t){var o=e||{},a=o.getContainer,s=o.style,l=o.class,c=f(o,["getContainer","style","class"]),u=document.createElement("div");if(a){var d=a();d.appendChild(u)}else document.body.appendChild(u);var p=(0,r.ri)({mounted:function(){var e=this;this.$nextTick((function(){t({notice:function(t){e.$refs.notification.add(t)},removeNotice:function(t){e.$refs.notification.remove(t)},component:e,destroy:function(){p.unmount(u),u.parentNode&&u.parentNode.removeChild(u)}})}))},render:function(){var e=(0,n.Z)((0,n.Z)({},c),{ref:"notification",style:s,class:l});return(0,i.Wm)(C,e,null)}});p.mount(u)};var w,x,_,b=C,k=b,T=o(2510),Z=o(1089),S=o(5956),W=o(2669),$=o(1390),G=3,I=1,O="ant-message",P="move-up",Y=function(){return document.body};function D(e){x?e(x):k.newInstance({prefixCls:O,transitionName:P,style:{top:w},getContainer:Y,maxCount:_},(function(t){x?e(x):(x=t,e(t))}))}var U={info:$.Z,success:W.Z,error:S.Z,warning:Z.Z,loading:T.Z};function z(e){var t=void 0!==e.duration?e.duration:G,o=U[e.type],n=o?(0,i.Wm)(o,null,null):"",a=e.key||I++,s=new Promise((function(o){var s=function(){return"function"===typeof e.onClose&&e.onClose(),o(!0)};D((function(o){o.notice({key:a,duration:t,style:e.style||{},class:e.class,content:function(){return(0,i.Wm)("div",{class:"".concat(O,"-custom-content").concat(e.type?" ".concat(O,"-").concat(e.type):"")},[e.icon||n,(0,i.Wm)("span",null,[e.content])])},onClose:s})}))})),r=function(){x&&x.removeNotice(a)};return r.then=function(e,t){return s.then(e,t)},r.promise=s,r}function H(e){return"[object Object]"===Object.prototype.toString.call(e)&&!!e.content}var L={open:z,config:function(e){void 0!==e.top&&(w=e.top,x=null),void 0!==e.duration&&(G=e.duration),void 0!==e.prefixCls&&(O=e.prefixCls),void 0!==e.getContainer&&(Y=e.getContainer),void 0!==e.transitionName&&(P=e.transitionName,x=null),void 0!==e.maxCount&&(_=e.maxCount,x=null)},destroy:function(){x&&(x.destroy(),x=null)}};["success","info","warning","error","loading"].forEach((function(e){L[e]=function(t,o,i){return H(t)?L.open((0,n.Z)((0,n.Z)({},t),{type:e})):("function"===typeof o&&(i=o,o=void 0),L.open({content:t,duration:o,type:e,onClose:i}))}})),L.warn=L.warning;var N=L},1762:function(e,t,o){o.d(t,{x:function(){return n}});const n=e=>{const t=new Date(e),o=t.getFullYear(),n=t.getMonth()+1,i=t.getDate(),a=t.getHours(),s=t.getMinutes(),r=t.getSeconds();return`${o}-${n}-${i} ${a}:${s}:${r}`}},8246:function(e,t,o){o.r(t),o.d(t,{default:function(){return w}});var n=o(3396),i=o(7139);const a=(0,n.Uk)("添加商品"),s=(0,n.Uk)("编辑"),r=(0,n.Uk)("删除"),l=(0,n._)("span",null,"商品名字 : ",-1),c=(0,n._)("span",null,"商品价格 : ",-1),u=(0,n._)("span",null,"商品重量 : ",-1),d=(0,n._)("span",null,"商品数量 : ",-1);function p(e,t,o,p,m,f){const h=(0,n.up)("a-input-search"),g=(0,n.up)("a-button"),v=(0,n.up)("a-table"),y=(0,n.up)("a-pagination"),C=(0,n.up)("a-config-provider"),w=(0,n.up)("a-input"),x=(0,n.up)("a-modal");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",null,[(0,n.Wm)(h,{value:p.SearchValue,"onUpdate:value":t[0]||(t[0]=e=>p.SearchValue=e),placeholder:"请输入要搜索的商品信息",style:{width:"200px"},onSearch:p.onSearch,"allow-clear":""},null,8,["value","onSearch"]),(0,n.Wm)(g,{type:"primary",style:{"margin-left":"20px"},onClick:p.addGoodsPage},{default:(0,n.w5)((()=>[a])),_:1},8,["onClick"]),(0,n.Wm)(v,{columns:p.columns,"data-source":p.goodsList,rowKey:"goods_id",bordered:"",pagination:!1,style:{margin:"20px 0"}},{handler:(0,n.w5)((e=>{let{text:t}=e;return[(0,n.Wm)(g,{type:"primary",size:"small",onClick:e=>p.showEditGoodsBox(t.goods_id)},{default:(0,n.w5)((()=>[s])),_:2},1032,["onClick"]),(0,n.Wm)(g,{type:"primary",danger:"",size:"small",onClick:e=>p.deleteGoods(t.goods_id)},{default:(0,n.w5)((()=>[r])),_:2},1032,["onClick"])]})),time:(0,n.w5)((e=>{let{text:t}=e;return[(0,n.Uk)((0,i.zw)(p.dateFormat(t)),1)]})),_:1},8,["columns","data-source"]),(0,n.Wm)(C,{locale:p.locale},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{onChange:p.pageChangeHandler,onShowSizeChange:p.pageChangeHandler,total:p.goodsTotal,defaultPageSize:5,pageSizeOptions:["1","2","5","10"],"show-size-changer":"","show-quick-jumper":""},null,8,["onChange","onShowSizeChange","total"])])),_:1},8,["locale"])]),(0,n.Wm)(x,{visible:p.showEditBox,"onUpdate:visible":t[5]||(t[5]=e=>p.showEditBox=e),width:"1000px",title:"编辑分类",onOk:p.submitEditGoods},{default:(0,n.w5)((()=>[(0,n._)("p",null,[l,(0,n.Wm)(w,{value:p.editGoodsList.goods_name,"onUpdate:value":t[1]||(t[1]=e=>p.editGoodsList.goods_name=e),style:{width:"80%"}},null,8,["value"])]),(0,n._)("p",null,[c,(0,n.Wm)(w,{value:p.editGoodsList.goods_price,"onUpdate:value":t[2]||(t[2]=e=>p.editGoodsList.goods_price=e),style:{width:"80%"}},null,8,["value"])]),(0,n._)("p",null,[u,(0,n.Wm)(w,{value:p.editGoodsList.goods_weight,"onUpdate:value":t[3]||(t[3]=e=>p.editGoodsList.goods_weight=e),style:{width:"80%"}},null,8,["value"])]),(0,n._)("p",null,[d,(0,n.Wm)(w,{value:p.editGoodsList.goods_number,"onUpdate:value":t[4]||(t[4]=e=>p.editGoodsList.goods_number=e),style:{width:"80%"}},null,8,["value"])])])),_:1},8,["visible","onOk"])],64)}var m=o(217),f=o(4870),h=o(7644),g=o(1762),v={setup(){const e=g.x,{proxy:t}=(0,n.FN)(),o=(0,f.iH)(),i=(0,f.iH)([]),a=[{title:"商品ID",dataIndex:"goods_id"},{title:"商品名字",dataIndex:"goods_name"},{title:"商品价格",dataIndex:"goods_price"},{title:"商品数量",dataIndex:"goods_number"},{title:"商品重量",dataIndex:"goods_weight"},{title:"添加时间",dataIndex:"upd_time",slots:{customRender:"time"}},{title:"操作",width:"20%",slots:{customRender:"handler"}}],s=(0,f.iH)(0),r={query:"",pagenum:1,pagesize:5},l=e=>{r.query=e,u()},c=(e,t)=>{r.pagenum=e,r.pagesize=t,u()},u=async()=>{const{data:e}=await t.$http.get("goods",{params:r});s.value=e.total,i.value=e.goods};(0,n.bv)((()=>{u()}));const d=()=>{t.$router.push("addgoods")},p=async e=>{const{meta:o}=await t.$http.delete(`goods/${e}`);if(200!=o.status)return h.Z.err(o.msg);h.Z.success(o.msg),u()},v=(0,f.qj)({goods_name:"",goods_price:"",goods_number:"",goods_weight:"",upd_time:""}),y=(0,f.iH)(!1),C=(0,f.iH)(),w=async e=>{C.value=e;const{data:o}=await t.$http.get(`goods/${e}`);v.goods_name=o.goods_name,v.goods_price=o.goods_price,v.goods_number=o.goods_number,v.goods_weight=o.goods_weight,v.upd_time=Date.now(),y.value=!0},x=async()=>{h.Z.info("此接口有问题,无法正常修改数据! ! !"),u(),y.value=!1};return{SearchValue:o,deleteGoods:p,submitEditGoods:x,showEditBox:y,showEditGoodsBox:w,editGoodsList:v,addGoodsPage:d,pageChangeHandler:c,goodsTotal:s,queryGoodsList:u,goodsList:i,onSearch:l,columns:a,dateFormat:e,locale:m.Z}}},y=o(89);const C=(0,y.Z)(v,[["render",p]]);var w=C}}]);
//# sourceMappingURL=246.5ab94c9e.js.map